{% extends "layout.html" %}

{% load bootstrap3 i18n static %}

{% block breadcrumb %}
  <li class="active">{% trans 'partnerships' %}</li>
{% endblock %}

{% block style %}
  <link rel="stylesheet" href="{% static "partnerships/partnerships.css" %}">
{% endblock %}

{% block script %}
  <script src="{% static "partnerships/list.js" %}"></script>
{% endblock %}

{% block content %}
  <div class="page-header">
    <h1>
      {% trans 'partnerships' %}
    </h1>
  </div>
  
  <div class="panel panel-default">
    <div class="panel-body">
      <div class="well">
        <div class="row">
          <div class="col-sm-12">
            <div class="pull-right">
              {% if can_change_configuration %}
              <a class="btn btn-default" type="button"
                 href="{% url "partnerships:configuration_update" %}">
                <i class="fa fa-fw fa-cog"></i> <span class="hidden-xs">{% trans "change_configuration" %}</span>
              </a>
              {% endif %}
              {% if can_add_partnership %}
              <a class="btn btn-default" type="button"
                 href="{% url "partnerships:partnership_create" %}">
                <i class="fa fa-fw fa-plus"></i> <span class="hidden-xs">{% trans "add_partnership" %}</span>
              </a>
            {% endif %}
              <button class="btn btn-default" type="button"
                      data-toggle="collapse" data-target="#partnership-filters"
                      aria-expanded="false" aria-controls="partnership-filters">
                <i class="fa fa-filter"></i> <span class="hidden-xs">{% trans "search_partnership" %}</span>
              </button>
            </div>
          </div>
        </div>

        <div class="collapse" id="partnership-filters">
          <div class="row">
            <ul class="nav nav-tabs" role="tablist">
              <li role="presentation" class="active"><a href="#filter-ucl" aria-controls="filter-ucl" role="tab" data-toggle="tab">{% trans 'ucl' %}</a></li>
              <li role="presentation"><a href="#filter-partner" aria-controls="filter-profile" role="tab" data-toggle="tab">{% trans 'partner' %}</a></li>
              <li role="presentation"><a href="#filter-partnership" aria-controls="filter-messages" role="tab" data-toggle="tab">{% trans 'partnership' %}</a></li>
            </ul>

            <form action="{% url "partnerships:partnerships_list" %}" id="filter-form" method="get" autocomplete="off">
              {% csrf_token %}
              <div class="tab-content">
                <div role="tabpanel" class="tab-pane fade in active" id="filter-ucl">
                  <div class="row">
                    <div class="col-sm-12 col-md-4">
                      {% bootstrap_field form.ucl_university show_label=False %}
                    </div>
                    <div class="col-sm-12 col-md-4">
                      {% bootstrap_field form.ucl_university_labo show_label=False %}
                    </div>
                    <div class="col-sm-12 col-md-4">
                      {% bootstrap_field form.university_offers show_label=False %}
                    </div>
                  </div>
                </div>
                <div role="tabpanel" class="tab-pane fade" id="filter-partner">
                  <div class="row">
                    <div class="col-sm-12 col-md-4">
                      {% bootstrap_field form.partner show_label=False %}
                    </div>
                    <div class="col-sm-12 col-md-4">
                      {% bootstrap_field form.partner_entity show_label=False %}
                    </div>
                    
                    <div class="col-sm-12 col-md-4">
                      {% bootstrap_field form.partner_type show_label=False %}
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-sm-12 col-md-4">
                      {% bootstrap_field form.city show_label=False %}
                    </div>
                    <div class="col-sm-12 col-md-4">
                      {% bootstrap_field form.country show_label=False %}
                    </div>
                    <div class="col-sm-12 col-md-4">
                      {% bootstrap_field form.continent show_label=False %}
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-sm-12">
                      {% bootstrap_field form.partner_tags show_label=False %}
                    </div>
                  </div>
                </div>
                <div role="tabpanel" class="tab-pane fade" id="filter-partnership">
                  <div class="row">
                    <div class="col-sm-12 col-md-3">
                      {% bootstrap_field form.is_sms %}
                    </div>
                    <div class="col-sm-12 col-md-3">
                      {% bootstrap_field form.is_smp %}
                    </div>
                    <div class="col-sm-12 col-md-3">
                      {% bootstrap_field form.is_sta %}
                    </div>
                    <div class="col-sm-12 col-md-3">
                      {% bootstrap_field form.is_stt %}
                    </div>
                    {% comment %}
                    <div class="col-sm-12 col-md-6">
                      {% bootstrap_field form.partnership_type show_label=False %}
                    </div>
                    {% endcomment %}
                  </div>
                  <div class="row">
                    <div class="col-sm-12">
                      {% bootstrap_field form.tags show_label=False %}
                    </div>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-md-12">
                  <button type="submit" class="btn btn-primary pull-right">{% trans "search" %}</button>
                </div>
              </div>
            </form>
            {{ form.media }}
          </div>
        </div>
      </div>
      <div id="results">
        {% include "partnerships/includes/partnerships_list_results.html" %}
      </div>
    </div>
  </div>
    
{% endblock %}
